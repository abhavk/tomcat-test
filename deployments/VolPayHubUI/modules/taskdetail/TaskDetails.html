 
<!-- BEGIN PAGE HEADER-->
<div class="breadCrumb" ng-controller="activeController">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
           <a href="javascript:void(0)" translate ng-click="goToHome()">Sidebar.Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#/app/taskdetails">System Data</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li translate>
            TaskDetails.PageTitle
        </li>
    </ul>
</div> 

<div class="pageTitle alertWidthonResize">
    <div class="row">
        <div class="col-sm-5">
            <span translate>Task_Details.PageTitle</span> <span style="font-size:14px;"> -  <small translate>Task_Details.SubTitle</small></span><br>
        </div>

    </div>

</div>

<div class ="animated bounce autoAdjustAlert bold" ng-style="{'top':alertStyle+'px','width':alertWidth+'px'}" ng-repeat="alert in alerts" ng-class="{'alert alert-success': alert.type == 'success','alert alert-danger':alert.type == 'danger'}" >
  <a href="javascript:void(0);" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  {{alert.msg}}
</div>

<div class="row CountBar" style="margin:0px 0px 20px 0px;padding: 5px;box-sizing: border-box;background-color: #44b6ae;color: white;">
    <div class="col-md-6 col-sm-8 col-xs-12 ng-binding" style="padding: 5px; font-size: 17px; padding-left: 25px;">
        {{restVal.length-1}} records shown
    </div>
    
    <div class="col-md-6 col-sm-8 col-xs-12">
        <div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;">
            <button class="btn btn-md viewbtn" id="btn_1" ng-click="hello('list',$event)" data-toggle="tooltip" title="{{listTooltip}}"><i class="fa fa-list"></i></button>
            <button class="btn btn-md viewbtn" id="btn_2" ng-click="hello('grid',$event)" data-toggle="tooltip" title="{{gridTooltip}}"><i class="fa fa-table"></i></button>
        </div>
        <div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left:10px;margin-right:10px;">
            <button class="btn" ng-click="printFn()" tooltip="Print"><i class="fa fa-print"></i></button>
        </div>
        <div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left:10px;">
            <button class="btn"  tooltip="Export to Excel" ng-click="exportToExcel()"><i class="fa fa-file-excel-o"></i></button>
        </div>
		
		<div class="btn-group" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left:10px;">
            <button class="btn"  tooltip="Refresh" ng-click="initData()"><i class="fa fa-refresh"></i></button>
        </div>
		<div class="btn-group" ng-if="!changeViewFlag" style="float:right;border: 1px solid #fff;box-sizing: border-box;margin-left:10px;">
            <button style="box-sizing: border-box;" ng-if="!changeViewFlag" class="btn viewbtn ng-scope" ng-style="(permission.C)? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" tooltip="{{(permission.C)?'Add New':'You dont have permission'}}" ng-click="(permission.C)?addFxRate():''"><i class="fa fa-plus-square"></i></button>
        </div>
    </div>
</div>

<!-- Delete popup Window Start-->
<div class="modal fade" tabindex="-1" id="delPopup" role="dialog">
	<div class="modal-dialog modal-md" style="top: 200px;"> 
	<div class="modal-content modalbdy animated tada">
		<div class="modal-header" style="padding: 0px !important; border: 0px !important">
          <div class="iconBox"><i class ="exclaLine"></i><i class ="exclaDot"></i></div>
        </div>
        <div class="modal-body" style="padding: 0px !important; border: 0px !important">
			<h1>Are you sure?</h1>
			<h4>You will not be able to recover this Data!</h4>
        </div>
        <div class="modal-footer modalftr">
			<button tabindex="0" type="button" class="buton cancl" data-dismiss="modal">Cancel</button>
			<button tabindex="0" type="button" class="buton yess" ng-click="deleteData(TaskDetail);">Yes, delete it!</button>
        </div>
	</div>      
	</div>
</div> 
<!-- Delete popup Window End-->  

<div class="alert alert-warning" ng-show="dataFound">
    <strong><h4  style="margin:0;text-align:center;">Nothing found to display</h4></strong>
</div>

<div style="position:relative;margin:0;overflow:visible;" >

    <div id="exportTable" class="table-responsive" ng-show="!dataFound" style="max-height:700px;">
    <table class="table table-bordered smallTable" id="sample_2" ng-show="!changeViewFlag">
        <thead>
        <tr>

            <th ng-repeat="val in sortMenu" ng-click="Sorting(val.FieldName);" class="cursorPointer" ng-if="val.visible">
                {{val.label}}
                <span ng-show="orderByField == val.FieldName && !SortReverse" class="fa fa-caret-up"></span>
                <span ng-show="orderByField == val.FieldName && SortReverse" class="fa fa-caret-down"></span>
            </th>
        </tr>
     </thead>
        <tbody>
            <tr id = {{'displayingWindow_'+$index}} class="displayWindow collapse in cursorPointer" ng-repeat-start="TaskDetail in restVal" ng-class="{oddClas:($index%2)== 1}" ng-if="(!$first)" ng-click="viewData(TaskDetail,true)">

                <td ng-repeat="val in sortMenu" ng-if="val.visible">
                    <span ng-if="val.FieldName != 'Status'"> {{TaskDetail[val.FieldName]}}</span>
                    <span ng-if="val.FieldName == 'Status'" ng-style="{'color':(TaskDetail | chooseColor)}">{{TaskDetail[val.FieldName]}}</span>
                </td>

        </tr>
		<tr ng-repeat-end="">			
		<td id = {{'editHere_'+$index}} class = "editHere" colspan="9" style='padding: 0 !important;'>
			<form name="updatetaskDetailForm" id = {{'editingWindow_'+$index}} class="editWindow collapse" role="form" class="simple-form" style='margin:8px; margin-bottom:0px;' ng-submit="updateData(TaskDetail)">
		<div class = 'row' style='margin:0'>
			<div class="form-group">
              <div class="control-group" ng-class="{true: 'error'}[updatesubmitted && updatetaskDetailForm.OfficeCode.$invalid]">
                  <div class="col-md-3">
                    <label for="OfficeCode" style='font-weight:bold;'>Office ID
                        <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                    </label>
                    <input class="form-control" type="text"  name="OfficeCode" ng-model="TaskDetail.OfficeCode" placeholder="Please Enter Office ID" required ng-disabled = "true" ng-blur="multipleEmptySpace($event)">
                    <span class="help-inline" ng-show="updatesubmitted && updatetaskDetailForm.OfficeCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                  </div>
              </div>
                <div class="control-group" ng-class="{true: 'error'}[updatesubmitted && updatetaskDetailForm.ProcessName.$invalid]">
                    <div class="col-md-3">
                    <label for="ProcessName" style="font-weight:bold;">Process Name
                        <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                    </label>
                    <input class="form-control" type="text"  name="ProcessName" ng-model="TaskDetail.ProcessName" placeholder="Please Enter ProcessName" required ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
                    <span class="help-inline" ng-show="updatesubmitted && updatetaskDetailForm.ProcessName.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                    </div>
               </div>
                <div class="control-group" ng-class="{true: 'error'}[updatesubmitted && updatetaskDetailForm.TaskId.$invalid]">
                  <div class="col-md-3">
                    <label for="TaskId" style="font-weight:bold;">Task Code
                        <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                    </label>
                    <input class="form-control" type="text" name="TaskId" ng-model="TaskDetail.TaskCode" placeholder="Please Enter TaskCode" required ng-disabled = "true" ng-blur="multipleEmptySpace($event)">
                    <span class="help-inline" ng-show="updatesubmitted && updatetaskDetailForm.TaskCode.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                  </div>
              </div>
              <div class="control-group" ng-class="{true: 'error'}[updatesubmitted && updatetaskDetailForm.TaskName.$invalid]">
                  <div class="col-md-3">
                    <label for="TaskName" style="font-weight:bold;">Task Name
                        <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                    </label>
                    <input class="form-control" type="text" name="TaskName" ng-model="TaskDetail.TaskName" placeholder="Please Enter Task Name" required ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
                      <span class="help-inline" ng-show="updatesubmitted && updatetaskDetailForm.TaskName.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                  </div>
              </div>

              <div style="clear:both;"></div>
			</div>
			<div class="form-group">
			  <div class="col-md-3">
				<label for="ex1" style="font-weight:bold;">Flow Name</label>
				<input class="form-control" type="text" name="FlowName" ng-model="TaskDetail.FlowName" placeholder="Please Enter Flow Name" ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
			  </div>

              <div class="control-group" ng-class="{true: 'error'}[updatesubmitted && updatetaskDetailForm.TaskIndex.$invalid]">
                  <div class="col-md-3">
                    <label for="TaskIndex" style="font-weight:bold;">Task Index
                        <span style="color:#e02222;font-size:12px;padding-left:2px" aria-required="true">*</span>
                    </label>
                    <input class="form-control" type="text" name="TaskIndex" ng-model="TaskDetail.TaskIndex" placeholder="Task Index Only Number" onkeydown='return allowOnlyNumbersAlone(event)' onkeyup="keyupfn(event)" required ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
                      <span class="help-inline" ng-show="updatesubmitted && updatetaskDetailForm.TaskIndex.$error.required" style="display:block;margin:0;color:#EF1C1C !important">Required</span>
                  </div>
              </div>
			  <!--<div class="col-md-3">
				<label for="ex3" style="font-weight:bold;">Is Parallel</label>
				<select class="form-control" type="text" name="IsParallel" value = "{{TaskDetail.IsParallel}}" ng-model="TaskDetail.IsParallel" ng-disabled="viewMe">
                    <option value="">&#45;&#45;Select&#45;&#45;</option>
                    <option value="true">True</option>
                    <option value="false">False</option>
                </select>
			  </div>-->
			 <!-- <div class="col-md-3">
				<label for="ex3" style="font-weight:bold;">Main Thread Timeout</label>
				<input class="form-control" type="text" name="MainThreadTimeOut" ng-model="TaskDetail.MainThreadTimeOut" placeholder="Please Enter Main Thread TimeOut" onkeydown='return allowOnlyNumbersAlone(event)' onkeyup="keyupfn(event)" ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
			  </div>-->
                <div style="clear:both;"></div>
			</div>

            <div class="form-group">
                <div class="col-md-3">
                    <label for="ex3" style="font-weight:bold;">Task Config</label>
                    <input class="form-control" type="text" name="TaskConfig" ng-model="TaskDetail.TaskConfig" placeholder="Please Enter TaskConfig" ng-disabled = "viewMe" ng-blur="multipleEmptySpace($event)">
                </div>

            </div>
            <div class="col-xs-12"style="padding:15px;" ng-hide="viewMe">
				<span class="pull-right">
					<button type="submit" class="btn btnStyle clr" ng-click="updatesubmitted=true" tooltip="Save">Save</button>
					<button type="button" class="btn btnStyle clr" ng-click="cancelpressed($index)" tooltip="Cancel">Cancel</button>
				</span>
            </div>
            <div class="col-xs-12"style="padding:15px;" ng-show="viewMe">
				<span class="pull-right">
					<button type="button" class="btn btnStyle clr" ng-click="viewMe = false;setViewMe(viewMe)" tooltip="Edit">Edit</button>
					<button type="button" class="btn btnStyle clr" data-toggle="modal" data-target="#delPopup" tooltip="Delete" ng-click="takeDeldata(FXRate,$index);">Delete</button>
					<button type="button" class="btn btnStyle clr" ng-click="cancelpressed($index)" tooltip="Cancel">Cancel</button>
				</span>
            </div>
		</div>
		</form>
		</td>
        </tr> 
        </tbody>
    </table>
    </div>
	
	<div ng-show="changeViewFlag" style="border:1px solid #ccc;">

        <div class="panel-group" id="accordion">

            <div class="col-md-12" style="margin-top:10px;margin-bottom: 15px;">

                <div ng-repeat="TaskDetail in restVal" ng-init="colIndexx = $index">


                    <div class="clearfix" style="background-color: transparent;" ng-if="$index % 4 == 0"> </div>
                    <div style="clear:both" ng-if="$index%4 == 0"></div>

                    <div ng-if="$first" class="panel col-md-3 ng-scope" ng-style="(permission.C)? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" tooltip="{{(permission.C)?'':'You don&lsquo;t have permission'}}">
                        <div style="background: rgb(158, 158, 158); text-align: center; min-height: 140px; display: flex; -webkit-box-align: center; align-items: center; -webkit-box-pack: center; justify-content: center; cursor: pointer; height: 190px;" ng-style="{'height':callStyle()}" ng-click="(permission.C)?addFxRate():''">
                            <div style="display: inline-block;font-size: 20px;color: #fff;">
                                <i class="fa fa-plus-square" style="font-size: 70px; line-height: 70px;"></i><br>
                                <span class="ng-binding">Add Task Details</span>
                            </div>
                        </div>
                    </div>
                    <div ng-if="(!$first)" class="panel col-md-3">
                        <div class="panel-heading listViewPanelHeading" id="listViewPanelHeading_{{$index}}" style="padding-bottom:0px;padding-right:20px;">
                            <div class="row dataGroups" id="dataGroup_{{$index}}" ng-click="viewData(TaskDetail,true)" style="cursor:pointer;min-height:150px;max-height:150px;">

                                <div class="col-md-12" style="padding:5px 15px" ng-repeat="val in sortMenu" ng-if="val.visible">
                                    <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                        {{val.label}} :</div>
                                    <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail[val.FieldName]}}</div>
                                </div>
                                <!--<div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Task Index :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail.TaskIndex}}</div>
                            </div><div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Task Code :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail.TaskCode}}</div>
                            </div><div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Process Name :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail.ProcessName}}</div>
                            </div><div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Task Name :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail.TaskName}}</div>
                            </div><div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Flow Name :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">{{TaskDetail.FlowName}}</div>
                            </div>
                            <div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    Status :</div>
                                <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;" ng-style="{'color':(TaskDetail | chooseColor)}">{{TaskDetail.Status}}</div>
                            </div>
                            <div class="col-md-12" style="padding:5px 15px">
                                <div class="bold" style="margin:0;padding: 0px 2px 0px 0px;word-wrap: break-word;float: left;">
                                    <span>{{((TaskDetail.EffectiveFromDate)&&(TaskDetail.EffectiveTillDate))?'Effective Date':'Effective From Date'}} :</span>
                                </div>
                                    <div class="listViewValue" style="margin:0;padding: 0px 0px 0px 2px;word-wrap: break-word;float: left;">
                                        <span>{{((TaskDetail.EffectiveFromDate)&&(TaskDetail.EffectiveTillDate))?((TaskDetail.EffectiveFromDate)+' to '+(TaskDetail.EffectiveTillDate)):(TaskDetail.EffectiveFromDate)}}</span>
                                    </div>
                            </div>-->



                                <div style="clear:both"></div>

                            </div>

                            <div class="row actionRow">
                                <a ng-init="showEditWin = true" class="actionIcons separateicon" ng-style="(permission.U)? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" ng-click="(permission.U)?viewData(TaskDetail,false):''" tooltip="{{(permission.U)?'Edit':'You don&lsquo;t have permission'}}"><i class="fa fa-pencil-square-o Iclr1"></i></a><a class="actionIcons separateicon" data-toggle="modal" data-target="{{(permission.D)?'#delPopup':''}}" ng-style="(permission.D)? {'opacity':'','cursor': 'pointer'}:{'opacity':'0.2','cursor': 'not-allowed'}" ng-click="(permission.D)?takeDeldata(TaskDetail,$index):''" tooltip="{{(permission.D)?'Delete':'You don&lsquo;t have permission'}}"><i class="fa fa-trash-o Iclr1"></i></a>
                            </div>

                            <div style="clear:both;"></div>

                        </div>
                    </div>
                </div>

            </div>

    <div style="clear:both"></div>
            </div>
             <div style="clear:both"></div>               
		</div>		
	
	</div>




<script>
      $('[data-toggle="tooltip"]').tooltip();
</script>
